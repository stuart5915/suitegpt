<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>how it works | SUITE Docs</title>
    <link rel="icon" type="image/png" href="../assets/suite-logo-new.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../suite-styles.css">
    <link rel="stylesheet" href="../nav.css">
    <link rel="stylesheet" href="docs.css">
    <style>
        body { font-family: 'Nunito', sans-serif; background: linear-gradient(135deg, #fff5f0 0%, #ffeef5 50%, #f0e6ff 100%); min-height: 100vh; overflow-x: hidden; }
        .canvas-container { width: 100%; min-height: 100vh; padding: 100px 24px 40px 24px; display: flex; flex-direction: column; align-items: center; box-sizing: border-box; }
    </style>
</head>
<body>
    <nav id="main-nav"></nav>
    <script src="docs-nav.js"></script>
    <div class="canvas-container">
        <div class="docs-container">
            <aside class="docs-sidebar"></aside>
            <script src="sidebar.js"></script>
            <main class="docs-content">
<h1>‚öôÔ∏è How SUITE Works</h1>
                <p class="subtitle">Under the hood: The AI-powered development pipeline that builds apps automatically
                </p>

                <div class="highlight-box">
                    <strong>üß† The Big Picture:</strong> When you use <code>/addition</code> in Discord, your request
                    goes through
                    a fully automated pipeline that writes real code, tests it, and deploys it ‚Äî all without human
                    intervention.
                </div>

                <h2>üîÑ The Complete Flow</h2>
                <p>Here's what happens when you request a feature or report a bug:</p>

                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="flow-number">1</div>
                        <div class="flow-content">
                            <div class="flow-title">Discord Command</div>
                            <div class="flow-desc">You run <code>/addition</code> or another command in Discord</div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">2</div>
                        <div class="flow-content">
                            <div class="flow-title">Queue Management</div>
                            <div class="flow-desc">Your request is stored in Supabase and queued for processing</div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">3</div>
                        <div class="flow-content">
                            <div class="flow-title">Watcher Service</div>
                            <div class="flow-desc">A Python watcher polls for new requests every 5 seconds</div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">4</div>
                        <div class="flow-content">
                            <div class="flow-title">AI Processing</div>
                            <div class="flow-desc">Request is sent to Antigravity IDE (multi-window support for parallel
                                processing)</div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">5</div>
                        <div class="flow-content">
                            <div class="flow-title">Idle Detection</div>
                            <div class="flow-desc">System monitors file changes ‚Äî when no changes for 30s, considers
                                done</div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">6</div>
                        <div class="flow-content">
                            <div class="flow-title">Auto-Deploy</div>
                            <div class="flow-desc">Changes are automatically pushed to GitHub and synced across devices
                            </div>
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üì</div>

                    <div class="flow-step">
                        <div class="flow-number">7</div>
                        <div class="flow-content">
                            <div class="flow-title">Live Update</div>
                            <div class="flow-desc">Website and apps update automatically ‚Äî no manual deployment needed
                            </div>
                        </div>
                    </div>
                </div>

                <h2>üõ†Ô∏è Tech Stack</h2>

                <div class="tech-grid">
                    <div class="tech-card">
                        <div class="tech-icon">üí¨</div>
                        <div class="tech-name">Discord Bot</div>
                        <div class="tech-role">Command Interface</div>
                    </div>
                    <div class="tech-card">
                        <div class="tech-icon">üóÑÔ∏è</div>
                        <div class="tech-name">Supabase</div>
                        <div class="tech-role">Queue & Database</div>
                    </div>
                    <div class="tech-card">
                        <div class="tech-icon">üêç</div>
                        <div class="tech-name">Python Watcher</div>
                        <div class="tech-role">Orchestration</div>
                    </div>
                    <div class="tech-card">
                        <div class="tech-icon">ü§ñ</div>
                        <div class="tech-name">Antigravity IDE</div>
                        <div class="tech-role">AI Code Generation</div>
                    </div>
                    <div class="tech-card">
                        <div class="tech-icon">üì¶</div>
                        <div class="tech-name">GitHub</div>
                        <div class="tech-role">Version Control</div>
                    </div>
                    <div class="tech-card">
                        <div class="tech-icon">üöÄ</div>
                        <div class="tech-name">Vercel</div>
                        <div class="tech-role">Auto-Deploy</div>
                    </div>
                </div>

                <h2>‚ö° Key Features</h2>

                <h3>Multi-Window Parallel Processing</h3>
                <p>
                    The watcher supports up to 4 Antigravity windows running simultaneously. When you send multiple
                    requests, they're distributed across available windows using round-robin allocation. This means
                    faster processing for the entire community.
                </p>

                <h3>Intelligent Idle Detection</h3>
                <p>
                    Instead of fixed timeouts, the system monitors file modifications. When no files change for 30
                    seconds, it knows the AI is done. This is faster and more reliable than waiting a fixed amount
                    of time.
                </p>

                <h3>Auto-Accept & Auto-Push</h3>
                <p>
                    The watcher automatically clicks "Accept" on AI suggestions every 5 seconds (so changes aren't
                    left pending) and pushes to GitHub when complete. No human intervention required.
                </p>

                <h3>Bidirectional Sync</h3>
                <p>
                    Changes flow both ways: the PC can push code changes, and the laptop can pull them. A sync
                    dashboard shows real-time status and lets you manually trigger syncs when needed.
                </p>

                <h2>üìä Example Workflow</h2>

                <div class="code-block">
                    <pre>
You: /addition Fix the nav bar emojis

Discord Bot: ‚úÖ Added to queue!

[WATCHER] Found 1 pending prompt
[W0] Sending to Window 0...
[W0] Typing prompt...
[W0] Waiting for agent... (idle detection: 30s)
[W0] Auto-Accept - 5s elapsed, idle: 3s
[W0] Auto-Accept - 10s elapsed, idle: 8s
...
[W0] Agent idle for 30s - considering done!
[GIT] Pulling latest...
[GIT] Pushing changes...
[W0] ‚úÖ Prompt completed!

Discord Bot: ‚úÖ Your changes are live!
                    </pre>
                </div>

                <h2>üîê Security & Sandboxing</h2>
                <p>
                    With AI-powered automation, security is critical. Here's how SUITE protects the ecosystem:
                </p>

                <h3>üèóÔ∏è Isolated App Repositories</h3>
                <p>
                    When users create apps via <code>/dev-create-app</code>, they are created in <strong>separate
                        repositories</strong> ‚Äî not in the main SUITE website codebase. Each app gets its own isolated
                    folder. User apps cannot modify core infrastructure, the main website, or other users' apps.
                </p>

                <h3>‚úÖ Approval Queue</h3>
                <p>
                    Feature requests (<code>/feature</code>) and bug reports (<code>/bug</code>) go to a
                    <strong>pending queue</strong> for admin review. Nothing touches production code until
                    an admin approves it. This prevents random users from injecting malicious changes.
                </p>

                <h3>üé≠ Role-Based Permissions</h3>
                <p>
                    Different Discord roles have different access levels:
                </p>
                <ul style="margin: 12px 0 24px 20px; color: #5a4a6f;">
                    <li><strong>Members:</strong> Can report bugs, request features (goes to queue)</li>
                    <li><strong>Developers:</strong> Can create and edit their own apps only</li>
                    <li><strong>Reviewers:</strong> Can approve/reject pending requests</li>
                    <li><strong>Admins:</strong> Full access to all commands and infrastructure</li>
                </ul>

                <h3>üõ°Ô∏è Prompt Filtering</h3>
                <p>
                    The watcher includes safeguards against dangerous prompts. Commands attempting to delete
                    files, access system directories, or modify core infrastructure are blocked or flagged
                    for manual review.
                </p>

                <h3>üì¶ Version Control Safety Net</h3>
                <p>
                    All changes go through Git. If something breaks, we can instantly revert to the previous
                    working version. Every change is logged with timestamps and the Discord user who requested it.
                </p>

                <div class="highlight-box" style="background: rgba(239, 68, 68, 0.1); border-left-color: #ef4444;">
                    <strong style="color: #ef4444;">‚ö†Ô∏è Admin-Only Commands:</strong> The <code>/addition</code>
                    command (which modifies the main website) is restricted to admins only. Regular users
                    can only interact with their own sandboxed apps.
                </div>

                <h2>üõ°Ô∏è Edge Cases & Solutions</h2>
                <p>The automation handles many tricky scenarios automatically:</p>

                <div class="tech-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">Focus Stealing</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">Clicking Accept on one window could interrupt
                            typing in another. Solved with <code>slot_typing</code> flag ‚Äî no clicking while any window
                            is typing.</div>
                    </div>
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">AI Asks Questions</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">When AI responds with questions instead of
                            code, prompts are marked "needs-review" with a screenshot for human response.</div>
                    </div>
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">Command Dialogs</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">AI triggers "Run command?" dialogs that need
                            approval. Background thread presses Alt+Enter every 5s to auto-approve.</div>
                    </div>
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">Git Conflicts</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">Multiple machines pushing can conflict. Retry
                            logic with <code>git pull --rebase</code> handles this automatically up to 3 times.</div>
                    </div>
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">Chat Scroll Stuck</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">Antigravity chat sometimes doesn't auto-scroll.
                            A scroll-down action after each Accept click keeps it moving.</div>
                    </div>
                    <div class="tech-card" style="text-align: left;">
                        <div style="font-weight: 700; color: #ff9500; margin-bottom: 8px;">Instant Dispatch</div>
                        <div style="font-size: 0.85rem; color: #5a4a6f;">Old approach blocked on each prompt. Now
                            prompts dispatch instantly ‚Äî background thread handles git sync every 60s.</div>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>üí° Why does this matter?</strong> Most "AI coding tools" require manual copy-paste. SUITE's
                    pipeline is fully automated ‚Äî from Discord command to live deployment. This is the infrastructure
                    that enables "Anyone Can Build. Everyone Gets Paid."
                </div>
            </main>
        </div>
    </div>
</body>
</html>
